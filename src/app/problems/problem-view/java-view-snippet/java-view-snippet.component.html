<form (ngSubmit)="onSubmit()">
    <div class="view-switcher__wrapper">
        <h2 class="tui-form__header tui-space_bottom-4 tui-space_top-2">Complete The Following</h2>
        <app-tab-list-view-switcher #viewSwitcher></app-tab-list-view-switcher>
    </div>
    <ng-container *ngIf="viewSwitcher.view === 'tab' else listView">
        <tui-tabs-with-more class="tui-space_bottom-4" #tabsComponent>
            <ng-container *ngFor="let input of inputFileNames">
                <button *tuiTab tuiTab>
                    {{ input.name }}
                </button>
            </ng-container>
        </tui-tabs-with-more>
        <div *ngFor="let input of inputFileNames; let index = index">
            <div *ngIf="tabsComponent.activeItemIndex === index">
                <app-code-editor [(codeTemplate)]="input.template"></app-code-editor>
            </div>
        </div>
    </ng-container>
    <ng-template #listView>
        <div class="code-editors__list">
            <div *ngFor="let input of inputFileNames">
                <p class="code-editors__list-title">{{ input.name }}</p>
                <app-code-editor [(codeTemplate)]="input.template"></app-code-editor>
            </div>
        </div>
    </ng-template>
    <div class="tui-form__buttons">
        <button
            tuiButton
            class="tui-form__button"
            size="m"
            [showLoader]="waitingSubmission"
            [disabled]="uqj?.question?.max_submission_allowed - uqj?.num_attempts <= 0"
        >
            Submit
        </button>
    </div>
</form>
