<span class="tui-text_h4">Average Course Grade:     </span>
<label *ngIf="value" tuiProgressLabel>
    <span class="percent">{{avgGrade}}%</span>

    <tui-progress-circle
        size="xl"
        [max]="max"
        [value]="avgGrade"
    ></tui-progress-circle>
</label>

<tui-tabs-with-more class="tui-space_bottom-4" #tabsComponent>
    <button *tuiTab tuiTab>Course Grade</button>
    <button *tuiTab tuiTab>Weekly Online Activity</button>
    <button *tuiTab tuiTab>Students</button>
    <button *tuiTab tuiTab>Questions</button>
</tui-tabs-with-more>
<ng-container *ngIf="tabsComponent.activeItemIndex === 0">
    <div class="tui-container tui-container_adaptive tui-container_example" style="margin-left: 0">
        <div class="tui-row tui-row_adaptive">
            <div class="tui-col_xs-12 tui-col_md-5 tui-col_lg-5">
                 <p class="tui-text_h5">Grade Distribution</p><br>
                <tui-axes class="axes" [axisXLabels]="gradeX" [axisYLabels]="gradeY">
                    <tui-bar-chart [max]="20" [value]="gradeDistr"></tui-bar-chart>
                </tui-axes>
            </div>
            <div class="tui-col_xs-12 tui-col_md-2 tui-col_lg-2"></div>
            <div class="tui-col_xs12 tui-col_md-5 tui-col_lg-5">
                <p class="tui-text_h5">Grade By Events</p><br>
                <tui-axes class="axes" [axisXLabels]="labelsX" [axisYLabels]="labelsY">
                    <tui-bar-chart [max]="100" [value]="grade"></tui-bar-chart>
                </tui-axes>
            </div>
        </div>
    </div>



</ng-container>
<ng-container *ngIf="tabsComponent.activeItemIndex === 1">
    <p class="tui-text_h5">Average Page Views</p><br>
    <tui-axes class="axes" [verticalLines]="8" [horizontalLines]="4" [axisXLabels]="lineX" [axisYLabels]="lineY">
        <tui-line-chart
            [x]="0"
            [y]="0"
            [width]="8"
            [height]="200"
            [smoothingFactor]="50"
            [value]="value"
            [filled]="true"
            [xStringify]="stringify"
            [yStringify]="stringify"
        ></tui-line-chart>
    </tui-axes>
</ng-container>
<ng-container *ngIf="tabsComponent.activeItemIndex === 2">
    <tui-input icon="tuiIconSearchLarge" [(ngModel)]="search">Search People</tui-input>
    <br><br>
    <div class="tui-container tui-container_adaptive tui-container_example" style="margin-left: 0; width: 100%">
        <div class="tui-row tui-row_adaptive">
            <div class="tui-col_xs-12 tui-col_md-7 tui-col_lg-7">
                <p class="tui-text_h6">37 Students</p><br>
                <table tuiTable class="table" [columns]="columns">
                    <thead>
                    <tr tuiThGroup>
                        <th tuiTh [resizable]="true">Name</th>
                        <th tuiTh>Page View</th>
                        <th tuiTh>Last Time Active</th>
                        <th tuiTh>Submission</th>
                        <th tuiTh>Missing Submission</th>
                        <th tuiTh>Current Score</th>
                        <th tuiTh>Concepts Struggling With</th>
                    </tr>
                    </thead>
                    <tbody tuiTbody [data]="students">
                    <tr *tuiRow="let item of students" tuiTr>
                        <td *tuiCell="'name'" tuiTd>
                            <a href="">{{item.name}}</a>
                        </td>
                        <td *tuiCell="'pageView'" tuiTd>
                            {{item.pageView}}
                        </td>
                        <td *tuiCell="'lastActive'" tuiTd>
                            {{item.lastActive}}
                        </td>
                        <td *tuiCell="'submission'" tuiTd>
                            {{item.submission}}
                        </td>
                        <td *tuiCell="'missing'" tuiTd>
                            {{item.missing}}
                        </td>
                        <td *tuiCell="'score'" tuiTd>
                            {{item.score}}
                        </td>
                        <td *tuiCell="'categoryStruggling'" tuiTd>
                            {{item.categoryStruggling}}
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="tui-col_xs-12 tui-col_md-5 tui-col_lg-5">
                <div class="card">
                  <div class="container">
                    <tui-notification status="warning" class="tui-space_top-4">
                        Potential At-Risk Students
                    </tui-notification><br>
                    <table tuiTable class="table" [columns]="atRiskCol">
                        <thead>
                        <tr tuiThGroup>
                            <th tuiTh [resizable]="true">Name</th>
                            <th tuiTh>Risk Type</th>
                            <th tuiTh>Page View</th>
                            <th tuiTh>Last Time Active</th>
                            <th tuiTh>Submission</th>
                            <th tuiTh>Missing Submission</th>
                            <th tuiTh>Current Score</th>
                            <th tuiTh>Concepts Struggling With</th>
                        </tr>
                        </thead>
                        <tbody tuiTbody [data]="atRiskStudents">
                        <tr *tuiRow="let item of atRiskStudents" tuiTr>
                            <td *tuiCell="'name'" tuiTd>
                                <a href="">{{item.name}}</a>
                            </td>
                            <td *tuiCell="'riskType'" tuiTd>
                                <div *ngIf="item.riskType === 'Dropout'">
                                    <tui-badge
                                        status="error"
                                        value="Dropout"
                                        class="tui-space_right-2"
                                    ></tui-badge>
                                </div>
                                <div *ngIf="item.riskType === 'Struggling'">
                                    <tui-badge
                                        status="warning"
                                        value="Struggling"
                                        class="tui-space_right-2"
                                    ></tui-badge>
                                </div>
                            </td>

                            <td *tuiCell="'pageView'" tuiTd>
                                {{item.pageView}}
                                <p style="color: #dd4c1e">↓ -35</p>
                            </td>
                            <td *tuiCell="'lastActive'" tuiTd>
                                {{item.lastActive}}
                            </td>
                            <td *tuiCell="'submission'" tuiTd>
                                {{item.submission}}
                                <p style="color: #3aa981">↑ +1</p>
                            </td>
                            <td *tuiCell="'missing'" tuiTd>
                                {{item.missing}}
                                <p style="color: #dd4c1e">↑ +7</p>
                            </td>
                            <td *tuiCell="'score'" tuiTd>
                                {{item.score}}
                            </td>
                            <td *tuiCell="'categoryStruggling'" tuiTd>
                                {{item.categoryStruggling}}
                            </td>

                        </tr>
                        </tbody>
                    </table>

                  </div>
                </div>

            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="tabsComponent.activeItemIndex === 3">
    <div class="tui-container tui-container_fullwidth">
        <h1 class="tui-text_h3 tui-space_vertical-10">Admin</h1>
        <div class="tui-row tui-row_adaptive">
            <div class="tui-col_lg-9 tui-col_md-8 tui-col_xs-12">
                <app-question-count></app-question-count>
                <app-category-stats></app-category-stats>
            </div>
            <div class="tui-col_lg-3 tui-col_md-4 tui-col_xs-12">
                <app-view-courses></app-view-courses>
            </div>
        </div>
    </div>
    <br>
    <tui-island style="width: 25%; padding: 10px 10px 10px 10px">
        <tui-notification status="warning" class="tui-space_top-4">Questions that may need to re-assign difficulty</tui-notification>
        <br>
        <table style="width:90%">
            <tr>
                <th>Title</th>
                <th>Difficulty</th>
                <th>Analytics</th>
<!--                <th>Text</th>-->
<!--                <th>Current Difficulty</th>-->
<!--                <th>Median Time Spent</th>-->
<!--                <th>Average Attempts</th>-->
<!--                <th>Average Score</th>-->
<!--                <th>Suggested Difficulty</th>-->
<!--                <th>Action</th>-->

            </tr>
            <tr>
                <td>Question 1</td>
                <td>EASY → MEDIUM</td>
                <td>
                    <a tuiButton appearance="primary" size="m" class="tui-form__button" id="myBtn" (click)="openModal()">
                        Analytics
                    </a>
                </td>
<!--                <td>What is the purpose of a variable in Java?</td>-->
<!--                <td>EASY</td>-->
<!--                <td>31 s</td>-->
<!--                <td>3</td>-->
<!--                <td>66.3%</td>-->
<!--                <td>MEDIUM</td>-->
<!--                <td>-->
<!--                    <button-->
<!--                        tuiButton-->
<!--                        type="button"-->
<!--                        appearance="primary"-->
<!--                        class="tui-space_right-3 tui-space_bottom-3">-->
<!--                        OPEN-->
<!--                    </button>-->
<!--                    <button-->
<!--                        tuiButton-->
<!--                        type="button"-->
<!--                        appearance="primary"-->
<!--                        class="tui-space_right-3 tui-space_bottom-3">-->
<!--                        EDIT-->
<!--                    </button>-->
<!--                </td>-->
            </tr>
        </table>
    </tui-island>
</ng-container>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
        <table style="width:100%">
            <tr>
                <th>Title</th>
                <th>Text</th>
                <th>Difficulty</th>
                <th>Median Time Spent</th>
                <th>Average Attempts</th>
                <th>Average Score</th>
                <th>Action</th>

            </tr>
            <tr>
                <td>Question 1</td>
                <td>What is the purpose of a variable in Java?</td>
                <td>EASY → MEDIUM</td>
                <td>31 s</td>
                <td>3</td>
                <td>66.3%</td>
                <td>
                    <a tuiButton appearance="primary" size="m" class="tui-form__button" id="myBtn" (click)="openModal()">
                        Open
                    </a>
                    <a tuiButton appearance="primary" size="m" class="tui-form__button" id="myBtn" (click)="openModal()">
                        Edit
                    </a>
                </td>
            </tr>
        </table>
  </div>

</div>
